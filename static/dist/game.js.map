{"version":3,"sources":["../client/game.js"],"names":[],"mappings":"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","file":"game.js","sourcesContent":["class Character extends React.Component {\n    selectChar() {\n        this.props.selectChar(this.props.char);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        var checkList = ['Img', 'Row', 'Col', 'prevRow', 'prevCol', 'selected', 'toDelete', 'turn', 'advice'];\n        for(var i = 0; i < checkList.length; i++){\n            if (this.props.char[checkList[i]] != nextProps.char[checkList[i]]) {\n                return true;\n            }\n        }\n        return this.props.gameTurn != nextProps.gameTurn;\n    }\n\n    render() {\n        const {gameTurn} = this.props;\n        const {Img, Row, Col, prevRow, prevCol, selected, toDelete, turn, advice} = this.props.char;\n        var classes = [\"char-cell\", \"row\"+Row, \"col\"+Col, (advice ? \"advice\":\"\"),\n            (selected ? \"selected\":\"\"), (toDelete?\"cell-remove\":\"\"),\n            (turn == gameTurn - 1 ? \"new\":\"\"), (turn == gameTurn ? \"appear\":\"\")];\n        return <div className={classes.join(\" \")}\n                 onClick={this.selectChar.bind(this)}>\n                <img src={Img} className=\"char\" />\n            </div>\n    }\n}\n\nclass FieldCell extends React.Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        return false;\n    }\n    moveSelected() {\n        var char = this.props.game.Field.find((char) => {\n            if (char.selected) {\n                return char\n            }\n        });\n        if (char) {\n            this.props.moveSelected(this.props.game.Id, char, this.props.row, this.props.col);\n        }\n    }\n\n    render() {\n        const {row, col, game} = this.props;\n        var fieldClasses = [\"fieldCell\"];\n        if (row == 0) {\n            fieldClasses.push('topRow')\n        }\n        if (row == game.Width - 1) {\n            fieldClasses.push('bottomRow')\n        }\n        if (col == 0) {\n            fieldClasses.push('leftCol')\n        }\n        if (col == game.Height - 1) {\n            fieldClasses.push('rightCol')\n        }\n        return <div onClick={this.moveSelected.bind(this)} className={ fieldClasses.join(' ') }></div>\n    }\n}\n\nclass Game extends React.Component {\n    render() {\n        const {game, selectChar, moveSelected, tutorialState} = this.props;\n        var fieldCell = [];\n        for (var row = 0; row < game.Width; row++) {\n            for (var col = 0; col < game.Height; col++) {\n                fieldCell.push(<FieldCell key={'' + row + col} row={row} col={col}\n                                          game={game} moveSelected={moveSelected}>\n                </FieldCell>)\n            }\n        }\n        var characters = game.Field.map((charData, i) => {\n            return <Character key={charData.Img.slice(-8, -4) + charData.Col + charData.Row} char={charData}\n                              selectChar={selectChar} gameTurn={game.Turn} />\n        });\n\n        return <div id=\"game\" className=\"window\">\n                {fieldCell}\n                {characters}\n                {tutorialState > 0 ? <Tutorial state={tutorialState} />: \"\"}\n            </div>\n    }\n}"]}